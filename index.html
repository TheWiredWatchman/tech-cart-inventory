<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Cart Inventory Management System</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAoAEBAAAAAAIABIAgAApgAAABQUAAAAACAADwMAAO4CAAAYGAAAAAAgALQDAAD9BQAAICAAAAAAIACfBQAAsQkAACgoAAAAACAATgcAAFAPAAAwMAAAAAAgAB8JAACeFgAAQEAAAAAAIACsDQAAvR8AAGBgAAAAACAADBYAAGktAACAgAAAAAAgANsfAAB1QwAAAAAAAAAAIABgRgAAUGMAAIlQTkcNChoKAAAADUlIRFIAAAAQAAAAEAgCAAAAkJFoNgAAAg9JREFUeJyNkstqU1EUhr+1z86llSZpahuk1kuxRkQRFKSYgRYEnQjOHAviG/gCvoCOfAEHOhDqQBSqjpzowIrQWCtpm15o09NWTJP0xJOTvRykFxUEv/H/wf8vlhy5Mg6IMSIGIxLL3ns4XH5WHYxra8hUJ+YeL0Y4VXXqHGAAREQEY4zxvFwmuaknBtkoN5rdcTHGGA9jRASRHUFEdMfxEgOm+S3YtrHDhbQ/XV9reRhvPwBydOx5Kulj+0wsLcaI9cRaEQOoOo0ijdrqXBi2toMWzlmUeqv/9nV759aFZDLZaQioqoigCgDjb5fuP/qKYgGnnkkcO5TLEJVev6pEhJEk06lgpcSB/ODVwqkuWPF/dkyrgigrfqDVL+3lJ2PDvIhSU5mLYG+Wp/MLayxMtguFVT9AUcGiimixtBVWPnrrT4E38RsfvBng7mTRmRjQ7kkXZ5OgqBoA1aXVoNYI+QdbjXC5EnT22M6+KHLr4WA6fg44JrZqs8DmwVTK9gAbiWyrVd0XALQ9MXO6NPQAkTzkVwFKhdESoDq3VEe/gwDSeQ1A4HjmvW/O99isbUaai2/Ph5n+dYLi/I9R3a1n94oq1Ft9nBm+NtB7qbv+rjfhPjVjVF9O9e2ld39pF78xEro4Ua3clT3ph92XvbXphN8Y+T1j+RNXCyqem13cOJurVea6Ptf+vtj+hv/kFwAw7f+Ps9Y6AAAAAElFTkSuQmCC" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #1a1a2e 0%, #16213e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: #00ff99;
            text-align: center;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .intro-screen h1 {
            font-size: 3rem;
            text-shadow: 0 0 30px #00ff99;
            animation: neonGlow 2s ease-in-out infinite alternate;
        }

        @keyframes neonGlow {
            from {
                text-shadow: 0 0 10px #00ff99, 0 0 20px #00ff99, 0 0 30px #00ff99;
            }
            to {
                text-shadow: 0 0 20px #00ff99, 0 0 30px #00ff99, 0 0 40px #00ff99, 0 0 50px #00ff99;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease-in-out;
        }

        .container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .company-brand {
            font-size: 14px;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #b8c6db;
            margin-bottom: 10px;
        }

        .welcome-message {
            font-size: 1rem;
            color: #4fd3a7;
            font-style: italic;
        }

        .shift-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .shift-btn {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            text-align: left;
            backdrop-filter: blur(10px);
        }

        .shift-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            border-color: #4fd3a7;
        }

        .shift-btn.active {
            background: linear-gradient(145deg, rgba(79, 211, 167, 0.3), rgba(79, 211, 167, 0.1));
            border-color: #4fd3a7;
            box-shadow: 0 10px 30px rgba(79, 211, 167, 0.2);
        }

        .shift-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #4fd3a7;
        }

        .shift-info {
            font-size: 0.95rem;
            color: #b8c6db;
        }

        .content-wrapper {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .search-bar {
            position: relative;
            margin-bottom: 25px;
        }

        .search-bar input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 30px;
            font-size: 1rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .search-bar input:focus {
            outline: none;
            box-shadow: 0 8px 25px rgba(79, 211, 167, 0.3);
            background: rgba(255,255,255,1);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: #666;
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .stat-title {
            font-size: 0.9rem;
            color: #b8c6db;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4fd3a7;
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 5px;
        }

        .tab {
            flex: 1;
            background: none;
            border: none;
            padding: 15px 20px;
            color: #b8c6db;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: linear-gradient(135deg, #4fd3a7, #38a169);
            color: white;
            box-shadow: 0 5px 15px rgba(79, 211, 167, 0.4);
        }

        .tab:hover:not(.active) {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .content-grid {
            display: grid;
            gap: 15px;
        }

        .item-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            color: white;
        }

        .item-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border-color: #4fd3a7;
        }

        .item-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: #4fd3a7;
            margin-bottom: 8px;
        }

        .item-details {
            color: #e2e8f0;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .spec-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .spec-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 25px;
            color: white;
        }

        .spec-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #4fd3a7;
            margin-bottom: 15px;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .spec-item:last-child {
            border-bottom: none;
        }

        .spec-label {
            color: #b8c6db;
            font-weight: 500;
        }

        .spec-value {
            color: #e2e8f0;
            font-weight: bold;
            text-align: right;
            max-width: 60%;
            word-wrap: break-word;
        }

        .software-grid {
            display: grid;
            gap: 20px;
        }

        .software-category {
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 25px;
            color: white;
        }

        .category-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #4fd3a7;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .software-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .software-item {
            background: rgba(255,255,255,0.1);
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid #4fd3a7;
            transition: all 0.3s ease;
        }

        .software-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        /* ====================================== */
        /* MATRIX EFFECT STYLES */
        /* ====================================== */
        #matrixScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 2000;
            display: none;
        }

        #matrixCanvas {
            width: 100%;
            height: 100%;
            background: black;
        }

        #finalText {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff99;
            font-size: 3rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-shadow: 0 0 20px #00ff99;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 2001;
            text-align: center;
        }

        /* ====================================== */
        /* GAME SCREEN STYLES */
        /* ====================================== */
        #gameScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 70%, #90EE90 100%);
            z-index: 1500;
            display: none;
            overflow: hidden;
        }

        #gameCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #gameInstructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            border: 5px solid #228B22;
            text-align: center;
            color: #2F4F4F;
            font-family: 'Comic Sans MS', cursive;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            z-index: 1501;
        }

        #gameInstructions h2 {
            color: #8B0000;
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        #gameInstructions p {
            margin: 15px 0;
            line-height: 1.4;
        }

        .start-btn {
            background: #228B22;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 24px;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            background: #32CD32;
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        #gameInstructionsBottom {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            padding: 15px 25px;
            border-radius: 15px;
            border: 3px solid #228B22;
            color: #2F4F4F;
            font-family: 'Comic Sans MS', cursive;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            z-index: 1501;
        }

        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #2F4F4F;
            font-size: 24px;
            font-weight: bold;
            z-index: 1501;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.6);
            padding: 15px 20px;
            border-radius: 15px;
            border: 3px solid #228B22;
            font-family: 'Comic Sans MS', cursive;
        }

        #timer {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #8B0000;
            font-size: 28px;
            font-weight: bold;
            z-index: 1501;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.6);
            padding: 15px 20px;
            border-radius: 15px;
            border: 3px solid #8B0000;
            font-family: 'Comic Sans MS', cursive;
        }

        #gameOver {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #8B0000;
            font-size: 42px;
            text-align: center;
            z-index: 1502;
            display: none;
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 25px;
            border: 6px solid #8B0000;
            box-shadow: 0 0 30px rgba(0,0,0,0.7);
            font-family: 'Comic Sans MS', cursive;
        }

        #highScoreEntry {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #2F4F4F;
            font-size: 28px;
            text-align: center;
            z-index: 1502;
            display: none;
            background: rgba(255,255,255,0.95);
            padding: 50px;
            border-radius: 25px;
            border: 6px solid #228B22;
            box-shadow: 0 0 30px rgba(0,0,0,0.7);
            font-family: 'Comic Sans MS', cursive;
        }

        #initialsInput {
            font-size: 28px;
            padding: 12px;
            margin: 20px;
            border: 4px solid #228B22;
            border-radius: 10px;
            text-align: center;
            max-width: 120px;
            text-transform: uppercase;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
        }

        #leaderboard {
            position: absolute;
            top: 140px;
            left: 20px;
            color: #2F4F4F;
            font-size: 18px;
            font-weight: bold;
            z-index: 1501;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.5);
            padding: 20px;
            border-radius: 15px;
            border: 3px solid #228B22;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Comic Sans MS', cursive;
        }

        .submitBtn {
            background: #228B22;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
            margin: 15px 8px;
            transition: background 0.3s;
        }

        .submitBtn:hover {
            background: #32CD32;
            transform: scale(1.05);
        }

        #gameUI {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #2F4F4F;
            font-size: 18px;
            font-weight: bold;
            z-index: 1501;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.4);
            padding: 8px 12px;
            border-radius: 8px;
            border: 2px solid rgba(34,139,34,0.6);
            font-family: 'Comic Sans MS', cursive;
        }

        #gameTimer {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #8B0000;
            font-size: 20px;
            font-weight: bold;
            z-index: 1501;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.9);
            background: rgba(255,255,255,0.4);
            padding: 8px 12px;
            border-radius: 8px;
            border: 2px solid rgba(139,0,0,0.6);
            font-family: 'Comic Sans MS', cursive;
        }

        #jumpIndicator {
            position: absolute;
            bottom: 80px;
            right: 20px;
            font-size: 16px;
            font-weight: bold;
            color: #2F4F4F;
            background: rgba(255,255,255,0.5);
            padding: 10px 15px;
            border-radius: 10px;
            border: 2px solid #228B22;
            font-family: 'Comic Sans MS', cursive;
            z-index: 1501;
        }

        .cloud {
            position: absolute;
            background: rgba(255,255,255,0.8);
            border-radius: 50px;
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateX(0px) translateY(0px); }
            25% { transform: translateX(15px) translateY(-8px); }
            50% { transform: translateX(-8px) translateY(-15px); }
            75% { transform: translateX(8px) translateY(-5px); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            .shift-selector {
                grid-template-columns: 1fr;
            }
            .content-wrapper {
                padding: 20px;
            }
            .tabs {
                flex-direction: column;
            }
            .spec-grid {
                grid-template-columns: 1fr;
            }
            .software-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- INTRO SCREEN -->
    <div class="intro-screen" id="introScreen">
        <h1>TECH CART SYSTEMS</h1>
    </div>

    <!-- MATRIX EASTER EGG SCREEN -->
    <div id="matrixScreen">
        <canvas id="matrixCanvas"></canvas>
        <div id="finalText"></div>
    </div>

    <!-- GAME EASTER EGG SCREEN -->
    <div id="gameScreen">
        <canvas id="gameCanvas"></canvas>
        
        <div id="gameUI">
            <div>Score: <span id="score">0</span></div>
            <div>Missed: <span id="missed">0</span>/15</div>
        </div>

        <div id="gameTimer">
            Time: <span id="timeLeft">90</span>s
        </div>

        <div id="leaderboard">
            <div style="font-size: 22px; margin-bottom: 15px; color: #8B0000;">üèÜ TOP 10 üèÜ</div>
            <div id="topTenList"></div>
        </div>

        <div id="gameOver">
            <div>TIME'S UP!</div>
            <div style="font-size: 24px; margin-top: 15px; color: #FF6347;">Final Score: <span id="finalScore">0</span></div>
            <div style="font-size: 18px; margin-top: 15px; color: #2F4F4F;">Press R to play again | ESC to exit</div>
        </div>

        <div id="highScoreEntry">
            <div style="color: #228B22; margin-bottom: 20px;">üéâ NEW HIGH SCORE! üéâ</div>
            <div style="font-size: 24px; margin-bottom: 20px;">Score: <span id="newHighScore">0</span></div>
            <div style="font-size: 20px; margin-bottom: 15px;">Enter your initials:</div>
            <input type="text" id="initialsInput" maxlength="3" placeholder="ABC">
            <div>
                <button class="submitBtn" onclick="submitScore()">Submit Score</button>
                <button class="submitBtn" onclick="skipScore()">Skip</button>
            </div>
        </div>
        
        <div id="gameInstructions">
            <h2>üçï FAT MAINTENANCE MAN üçî</h2>
            <p><strong>‚¨ÖÔ∏è A/D or Arrow Keys:</strong> Move Fat Tony ‚û°Ô∏è</p>
            <p><strong>ü¶ò SPACEBAR:</strong> Jump!</p>
            <p><strong>üçï Mission:</strong> Catch food in 90 seconds!</p>
            <p><strong>‚ö†Ô∏è Warning:</strong> Don't miss more than 15 items!</p>
            <button class="start-btn" onclick="startGame()">START GAME</button>
        </div>
        
        <div id="gameInstructionsBottom">
            ‚¨ÖÔ∏è A/D or Arrow Keys: Move Fat Tony ‚û°Ô∏è<br>
            ü¶ò SPACEBAR: Jump! | üçï Catch food in 90 seconds! | ESC: Exit
        </div>
        
        <div id="jumpIndicator">
            Jump Power: <span id="jumpPower">100</span>%
        </div>
    </div>

    <!-- MAIN INVENTORY INTERFACE -->
    <div class="container">
        <div class="header">
            <div class="company-brand">Made by Technicians for Technicians</div>
            <h1>Tech Cart Inventory Management System</h1>
            <div class="subtitle">Maintenance Floor - Real-Time Asset Tracking</div>
            <div class="welcome-message">Welcome, Maintenance Technician</div>
        </div>

        <div class="shift-selector">
            <button class="shift-btn active" onclick="selectShift('1st')">
                <div class="shift-title">1st Shift Cart - Station A</div>
                <div class="shift-info">Laptop A ‚Ä¢ 15 Cables ‚Ä¢ Full Automation Suite</div>
            </button>
            <button class="shift-btn" onclick="selectShift('2nd')">
                <div class="shift-title">2nd Shift Cart - Station B</div>
                <div class="shift-info">Laptop B ‚Ä¢ 9 Cables ‚Ä¢ Specialized Software</div>
            </button>
            <button class="shift-btn" onclick="selectShift('3rd')">
                <div class="shift-title">3rd Shift Cart - Station C</div>
                <div class="shift-info">Laptop C ‚Ä¢ 9 Cables ‚Ä¢ Extended Software Suite</div>
            </button>
        </div>

        <div class="content-wrapper">
            <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" id="searchInput" placeholder="Search for cables, software, or specifications..." onkeyup="searchContent()">
            </div>

            <div id="stats-bar" class="stats-bar"></div>

            <div class="tabs">
                <button class="tab active" onclick="selectTab('cables')">Cable Inventory</button>
                <button class="tab" onclick="selectTab('laptop')">Laptop Specifications</button>
                <button class="tab" onclick="selectTab('software')">Installed Software</button>
            </div>

            <div id="content-area">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // INTRO SCREEN LOGIC
        // ============================================
        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const introScreen = document.getElementById('introScreen');
                introScreen.style.display = 'none';
                document.querySelector('.container').classList.add('visible');
                
                updateContent();
                updateStats();
            }, 500);
        });

        // ============================================
        // KONAMI CODE EASTER EGG (Matrix)
        // ============================================
        const konami = ["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];
        let buffer = [];
        let konamiTimer = null;

        window.addEventListener('keydown', (e) => {
            buffer.push(e.key);
            if (buffer.length > 10) buffer.shift();

            if (!konamiTimer) {
                konamiTimer = setTimeout(() => {
                    buffer = [];
                    konamiTimer = null;
                }, 10000);
            }

            if (buffer.join(',') === konami.join(',')) {
                triggerMatrix();
                buffer = [];
            }
        });

        // ============================================
        // GAME EASTER EGG (T+R+J+K, tap L 2x)
        // ============================================
        let keysPressed = {};
        let lTapCount = 0;
        let lTapTimer = null;

        window.addEventListener('keydown', (e) => {
            keysPressed[e.key.toLowerCase()] = true;

            if (keysPressed['t'] && keysPressed['r'] && keysPressed['j'] && keysPressed['k']) {
                if (e.key.toLowerCase() === 'l') {
                    lTapCount++;
                    
                    if (lTapTimer) clearTimeout(lTapTimer);
                    
                    lTapTimer = setTimeout(() => {
                        lTapCount = 0;
                    }, 2000);
                    
                    if (lTapCount >= 2) {
                        launchGame();
                        lTapCount = 0;
                        if (lTapTimer) clearTimeout(lTapTimer);
                    }
                }
            }
        });

        window.addEventListener('keyup', (e) => {
            keysPressed[e.key.toLowerCase()] = false;
        });

        // ESC key to exit game
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && gameState === 'playing') {
                exitGame();
            }
        });

        function launchGame() {
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('gameInstructions').style.display = 'block';
            resizeCanvas();
            updateLeaderboard();
        }

        function exitGame() {
            document.getElementById('gameScreen').style.display = 'none';
            gameState = 'ended';
            clearInterval(gameTimer);
        }

        // ============================================
        // HIGH SCORE SYSTEM
        // ============================================
        let highScores = [];

        function loadHighScores() {
            const stored = localStorage.getItem('fatTonyHighScores');
            if (stored) {
                highScores = JSON.parse(stored);
            }
        }

        function saveHighScores() {
            localStorage.setItem('fatTonyHighScores', JSON.stringify(highScores));
        }

        function addHighScore(initials, score) {
            highScores.push({ initials: initials.toUpperCase(), score: score });
            highScores.sort((a, b) => b.score - a.score);
            highScores = highScores.slice(0, 10);
            saveHighScores();
            updateLeaderboard();
        }

        function updateLeaderboard() {
            const leaderboard = document.getElementById('topTenList');
            if (!leaderboard) return;
            
            if (highScores.length === 0) {
                leaderboard.innerHTML = '<div style="color: #666; font-style: italic;">No scores yet!</div>';
                return;
            }
            
            leaderboard.innerHTML = highScores.map((score, index) => {
                const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `${index + 1}.`;
                return `<div style="display: flex; justify-content: space-between; margin: 5px 0; padding: 5px; border-radius: 5px; background: rgba(255,255,255,${index === 0 ? '0.3' : '0.1'});">
                    <span>${medal} ${score.initials}</span>
                    <span style="color: #228B22; font-weight: bold;">${score.score}</span>
                </div>`;
            }).join('');
        }

        function isNewHighScore(score) {
            return highScores.length < 10 || score > highScores[highScores.length - 1].score;
        }

        function submitScore() {
            const initials = document.getElementById('initialsInput').value.trim();
            if (initials.length === 0) {
                alert('Please enter your initials!');
                return;
            }
            
            addHighScore(initials, score);
            document.getElementById('highScoreEntry').style.display = 'none';
            document.getElementById('gameOver').style.display = 'block';
        }

        function skipScore() {
            document.getElementById('highScoreEntry').style.display = 'none';
            document.getElementById('gameOver').style.display = 'block';
        }

        // ============================================
        // FAT MAINTENANCE MAN GAME
        // ============================================
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);

        let gameState = 'playing';
        let score = 0;
        let missedFood = 0;
        let timeLeft = 90;
        let gameTimer;
        const maxMissed = 15;

        let lastFoodType = null;
        let consecutiveCount = 0;
        let gameMode = 'normal';
        let modeChangeScore = 0;

        const fatMaintenanceMan = {
            x: canvas.width / 2 - 60,
            y: canvas.height - 140,
            width: 120,
            height: 120,
            speed: 10,
            groundY: canvas.height - 140,
            velocityY: 0,
            jumping: false,
            jumpPower: 100,
            maxJumpPower: 100,
            fastFalling: false
        };

        let foodItems = [];
        let particles = [];

        const foodTypes = [
            { symbol: 'üçï', color: '#FF6B35', points: 10, name: 'Pizza' },
            { symbol: 'üçî', color: '#8B4513', points: 15, name: 'Burger' },
            { symbol: 'üå≠', color: '#D2691E', points: 12, name: 'Hot Dog' },
            { symbol: 'üç∞', color: '#FFB6C1', points: 25, name: 'Cake' },
            { symbol: 'üç©', color: '#DDA0DD', points: 20, name: 'Donut' },
            { symbol: 'üçü', color: '#FFD700', points: 8, name: 'Fries' },
            { symbol: 'üåÆ', color: '#F4A460', points: 18, name: 'Taco' },
            { symbol: 'üç™', color: '#D2B48C', points: 16, name: 'Cookie' },
            { symbol: 'ü•ì', color: '#FF69B4', points: 22, name: 'Bacon' },
            { symbol: 'üßÄ', color: '#FFD700', points: 14, name: 'Cheese' },
            { symbol: 'üçÖ', color: '#FF4500', points: 30, name: 'Tomato', timeBonus: 20, isSpecial: true }
        ];

        function drawFatMaintenanceMan() {
            const centerX = fatMaintenanceMan.x + fatMaintenanceMan.width / 2;
            const centerY = fatMaintenanceMan.y + fatMaintenanceMan.height / 2;

            // Shadow
            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            ctx.beginPath();
            ctx.ellipse(centerX + 3, fatMaintenanceMan.y + fatMaintenanceMan.height + 8, 70, 20, 0, 0, Math.PI * 2);
            ctx.fill();

            // Work shirt belly
            ctx.fillStyle = '#4169E1';
            ctx.strokeStyle = '#1E3A8A';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.ellipse(centerX, centerY + 20, 70, 55, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();

            // Work shirt buttons
            ctx.fillStyle = '#FFF';
            for (let i = 0; i < 4; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY - 5 + i * 15, 3, 0, Math.PI * 2);
                ctx.fill();
            }

            // Shirt pocket with name tag
            ctx.fillStyle = '#1E3A8A';
            ctx.fillRect(centerX - 45, centerY - 10, 25, 20);
            ctx.strokeStyle = '#4169E1';
            ctx.lineWidth = 1;
            ctx.strokeRect(centerX - 45, centerY - 10, 25, 20);

            ctx.fillStyle = '#FFF';
            ctx.fillRect(centerX - 43, centerY - 8, 21, 8);
            ctx.fillStyle = '#000';
            ctx.font = '8px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('MAINTENANCE', centerX - 32, centerY - 2);

            // Head
            ctx.fillStyle = '#FFDBAC';
            ctx.strokeStyle = '#DEB887';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.ellipse(centerX, centerY - 35, 40, 35, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();

            // Hair (bald spot)
            ctx.fillStyle = '#8B4513';
            ctx.beginPath();
            ctx.arc(centerX - 25, centerY - 55, 8, 0, Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX + 25, centerY - 55, 8, 0, Math.PI);
            ctx.fill();

            // Eyes
            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.ellipse(centerX - 15, centerY - 40, 5, 8, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(centerX + 15, centerY - 40, 5, 8, 0, 0, Math.PI * 2);
            ctx.fill();

            // Eye sparkle
            ctx.fillStyle = '#FFF';
            ctx.beginPath();
            ctx.arc(centerX - 13, centerY - 42, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX + 17, centerY - 42, 2, 0, Math.PI * 2);
            ctx.fill();

            // Big smile
            ctx.strokeStyle = '#8B0000';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.arc(centerX, centerY - 25, 18, 0, Math.PI);
            ctx.stroke();

            // Mustache
            ctx.fillStyle = '#8B4513';
            ctx.beginPath();
            ctx.ellipse(centerX - 8, centerY - 30, 8, 3, -0.3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(centerX + 8, centerY - 30, 8, 3, 0.3, 0, Math.PI * 2);
            ctx.fill();

            // Arms
            ctx.fillStyle = '#4169E1';
            ctx.strokeStyle = '#1E3A8A';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.ellipse(centerX - 55, centerY + 5, 18, 30, -0.3, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            ctx.beginPath();
            ctx.ellipse(centerX + 55, centerY + 5, 18, 30, 0.3, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();

            // Hands
            ctx.fillStyle = '#FFDBAC';
            ctx.beginPath();
            ctx.arc(centerX - 65, centerY + 25, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX + 65, centerY + 25, 8, 0, Math.PI * 2);
            ctx.fill();

            // Work pants
            ctx.fillStyle = '#2F4F4F';
            ctx.fillRect(centerX - 30, centerY + 55, 25, 40);
            ctx.fillRect(centerX + 5, centerY + 55, 25, 40);

            // Tool belt
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(centerX - 50, centerY + 50, 100, 8);

            // Tools on belt
            ctx.fillStyle = '#696969';
            ctx.fillRect(centerX - 40, centerY + 45, 4, 15);
            ctx.fillRect(centerX - 30, centerY + 45, 6, 12);
            ctx.fillRect(centerX + 25, centerY + 45, 8, 10);
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(centerX + 29, centerY + 55, 2, 8);

            // Work boots
            ctx.fillStyle = '#000';
            ctx.fillRect(centerX - 35, centerY + 90, 35, 15);
            ctx.fillRect(centerX, centerY + 90, 35, 15);
        }

        function createFood() {
            let type;
            
            if (Math.random() < 0.02) {
                type = foodTypes[foodTypes.length - 1];
            } else {
                type = foodTypes[Math.floor(Math.random() * (foodTypes.length - 1))];
            }
            
            const size = type.isSpecial ? 35 + Math.random() * 15 : 30 + Math.random() * 20;
            
            foodItems.push({
                x: Math.random() * (canvas.width - size),
                y: -size,
                width: size,
                height: size,
                type: type,
                speed: type.isSpecial ? 2.5 + Math.random() * 2 : 3 + Math.random() * 4,
                rotation: Math.random() * 360,
                rotationSpeed: (Math.random() - 0.5) * 10
            });
        }

        function createParticles(x, y, color) {
            for (let i = 0; i < 12; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 15,
                    vy: (Math.random() - 0.5) * 15,
                    color: color,
                    size: Math.random() * 8 + 4,
                    life: 30,
                    maxLife: 30
                });
            }
        }

        function createComboText(x, y, text) {
            particles.push({
                x: x,
                y: y,
                vx: 0,
                vy: -2,
                color: '#FFD700',
                size: 1,
                life: 60,
                maxLife: 60,
                text: text,
                isText: true
            });
        }

        function updateJumpIndicator() {
            document.getElementById('jumpPower').textContent = Math.round(fatMaintenanceMan.jumpPower);
        }

        function startGameTimer() {
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timeLeft').textContent = timeLeft;
                
                if (fatMaintenanceMan.jumpPower < fatMaintenanceMan.maxJumpPower) {
                    fatMaintenanceMan.jumpPower = Math.min(fatMaintenanceMan.maxJumpPower, fatMaintenanceMan.jumpPower + 2.5);
                    updateJumpIndicator();
                }
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            clearInterval(gameTimer);
            gameState = 'gameOver';
            document.getElementById('finalScore').textContent = score;
            
            if (isNewHighScore(score)) {
                document.getElementById('newHighScore').textContent = score;
                document.getElementById('highScoreEntry').style.display = 'block';
                document.getElementById('initialsInput').focus();
            } else {
                document.getElementById('gameOver').style.display = 'block';
            }
        }

        const keys = {};

        document.addEventListener('keydown', (e) => {
            keys[e.code] = true;
            
            if (e.code === 'Space') {
                if (!fatMaintenanceMan.jumping && fatMaintenanceMan.jumpPower > 0) {
                    fatMaintenanceMan.jumping = true;
                    fatMaintenanceMan.velocityY = -26;
                    fatMaintenanceMan.jumpPower = Math.max(0, fatMaintenanceMan.jumpPower - 20);
                    updateJumpIndicator();
                } else if (fatMaintenanceMan.jumping && !fatMaintenanceMan.fastFalling) {
                    fatMaintenanceMan.fastFalling = true;
                    fatMaintenanceMan.velocityY = 15;
                }
                e.preventDefault();
            }
            
            if (e.code === 'KeyR' && (gameState === 'gameOver' || gameState === 'ended')) {
                restartGame();
                gameLoop();
            }
            
            if (e.code === 'Escape' && (gameState === 'gameOver' || gameState === 'ended')) {
                exitGame();
            }
        });

        document.addEventListener('keyup', (e) => {
            keys[e.code] = false;
        });

        function update() {
            if (gameState !== 'playing') return;

            fatMaintenanceMan.groundY = canvas.height - 140;

            if (fatMaintenanceMan.jumping) {
                if (fatMaintenanceMan.fastFalling) {
                    fatMaintenanceMan.velocityY += 2;
                } else {
                    fatMaintenanceMan.velocityY += 0.8;
                }
                
                fatMaintenanceMan.y += fatMaintenanceMan.velocityY;

                if (fatMaintenanceMan.y >= fatMaintenanceMan.groundY) {
                    fatMaintenanceMan.y = fatMaintenanceMan.groundY;
                    fatMaintenanceMan.jumping = false;
                    fatMaintenanceMan.fastFalling = false;
                    fatMaintenanceMan.velocityY = 0;
                }
            }

            if ((keys['KeyA'] || keys['ArrowLeft']) && fatMaintenanceMan.x > 0) {
                fatMaintenanceMan.x -= fatMaintenanceMan.speed;
            }
            if ((keys['KeyD'] || keys['ArrowRight']) && fatMaintenanceMan.x < canvas.width - fatMaintenanceMan.width) {
                fatMaintenanceMan.x += fatMaintenanceMan.speed;
            }
            
            for (let i = foodItems.length - 1; i >= 0; i--) {
                const food = foodItems[i];
                food.y += food.speed;
                food.rotation += food.rotationSpeed;
                
                if (food.y > canvas.height) {
                    foodItems.splice(i, 1);
                    missedFood++;
                    consecutiveCount = 0;
                    lastFoodType = null;
                    updateUI();
                    
                    if (missedFood >= maxMissed) {
                        endGame();
                        return;
                    }
                    continue;
                }

                if (food.x < fatMaintenanceMan.x + fatMaintenanceMan.width &&
                    food.x + food.width > fatMaintenanceMan.x &&
                    food.y < fatMaintenanceMan.y + fatMaintenanceMan.height &&
                    food.y + food.height > fatMaintenanceMan.y) {
                    
                    createParticles(food.x, food.y, food.type.color);
                    
                    if (lastFoodType && lastFoodType.name === food.type.name) {
                        consecutiveCount++;
                    } else {
                        consecutiveCount = 1;
                        lastFoodType = food.type;
                    }

                    if (food.type.timeBonus) {
                        timeLeft += food.type.timeBonus;
                        document.getElementById('timeLeft').textContent = timeLeft;
                        
                        createComboText(fatMaintenanceMan.x + fatMaintenanceMan.width/2, 
                                      fatMaintenanceMan.y - 30, 
                                      `+${food.type.timeBonus} TIME!`);
                    }
                    
                    let points = food.type.points;
                    if (fatMaintenanceMan.jumping) {
                        points *= 2;
                        createParticles(fatMaintenanceMan.x, fatMaintenanceMan.y, '#FFD700');
                    }
                    
                    if (consecutiveCount >= 3) {
                        const multiplier = Math.min(consecutiveCount - 2, 5);
                        points *= multiplier;
                        
                        createComboText(fatMaintenanceMan.x + fatMaintenanceMan.width/2, 
                                      fatMaintenanceMan.y, 
                                      `${consecutiveCount}x COMBO!`);
                    }
                    
                    score += points;
                    foodItems.splice(i, 1);
                    updateUI();
                }
            }

            let baseSpawnRate = 0.02 + (90 - timeLeft) * 0.0008;
            if (gameMode === 'rush') {
                baseSpawnRate *= 2;
            }
            if (Math.random() < baseSpawnRate) {
                createFood();
            }
            
            for (let i = particles.length - 1; i >= 0; i--) {
                const particle = particles[i];
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.vx *= 0.96;
                particle.vy *= 0.96;
                particle.life--;
                
                if (particle.life <= 0) {
                    particles.splice(i, 1);
                }
            }
        }

        function render() {
            let bgGradient;
            if (gameMode === 'night') {
                bgGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                bgGradient.addColorStop(0, '#2C3E50');
                bgGradient.addColorStop(0.6, '#34495E');
                bgGradient.addColorStop(1, '#1B2631');
            } else {
                bgGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                bgGradient.addColorStop(0, '#87CEEB');
                bgGradient.addColorStop(0.6, '#98FB98');
                bgGradient.addColorStop(1, '#90EE90');
            }
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawFactoryBackground();
            
            ctx.save();
            
            const titleSize = Math.min(canvas.width, canvas.height) / 8;
            
            for (let i = 0; i < 4; i++) {
                ctx.fillStyle = `rgba(0, 0, 0, ${0.2 - i * 0.04})`;
                ctx.font = `bold ${titleSize}px Comic Sans MS`;
                ctx.textAlign = 'center';
                ctx.fillText('Fat Maintenance Man', canvas.width/2 + i*2, canvas.height/2 - 100 + i*2);
            }
            
            ctx.fillStyle = 'rgba(139, 0, 0, 0.5)';
            ctx.font = `bold ${titleSize}px Comic Sans MS`;
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.lineWidth = 4;
            ctx.strokeText('Fat Maintenance Man', canvas.width/2, canvas.height/2 - 100);
            ctx.fillText('Fat Maintenance Man', canvas.width/2, canvas.height/2 - 100);
            
            const subtitleSize = titleSize / 3;
            ctx.fillStyle = 'rgba(47, 79, 79, 0.4)';
            ctx.font = `bold ${subtitleSize}px Comic Sans MS`;
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.lineWidth = 2;
            ctx.strokeText('FOOD FRENZY', canvas.width/2, canvas.height/2 - 40);
            ctx.fillText('FOOD FRENZY', canvas.width/2, canvas.height/2 - 40);
            
            ctx.restore();
            
            drawFatMaintenanceMan();
            
            foodItems.forEach(food => {
                ctx.save();
                ctx.translate(food.x + food.width/2, food.y + food.height/2);
                ctx.rotate(food.rotation * Math.PI / 180);
                
                ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';
                ctx.fillRect(-food.width/2 + 3, -food.height/2 + 3, food.width, food.height);
                
                const foodGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, food.width/2);
                foodGradient.addColorStop(0, food.type.color);
                foodGradient.addColorStop(1, food.type.color + '80');
                ctx.fillStyle = foodGradient;
                ctx.fillRect(-food.width/2, -food.height/2, food.width, food.height);
                
                ctx.strokeStyle = food.type.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(-food.width/2, -food.height/2, food.width, food.height);
                
                ctx.font = '32px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(food.type.symbol, 0, 10);
                
                ctx.restore();
            });
            
            particles.forEach(particle => {
                const alpha = particle.life / particle.maxLife;
                ctx.save();
                ctx.globalAlpha = alpha;
                
                if (particle.isText) {
                    ctx.fillStyle = particle.color;
                    ctx.font = 'bold 24px Comic Sans MS';
                    ctx.textAlign = 'center';
                    ctx.strokeStyle = '#000';
                    ctx.lineWidth = 2;
                    ctx.strokeText(particle.text, particle.x, particle.y);
                    ctx.fillText(particle.text, particle.x, particle.y);
                } else {
                    ctx.fillStyle = particle.color;
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size * alpha, 0, Math.PI * 2);
                    ctx.fill();
                    
                    if (particle.color === '#FFD700') {
                        ctx.strokeStyle = '#FFF';
                        ctx.lineWidth = 2;
                        ctx.stroke();
                    }
                }
                ctx.restore();
            });
            
            if (gameMode !== 'normal') {
                ctx.save();
                ctx.fillStyle = gameMode === 'rush' ? '#FF4500' : '#4169E1';
                ctx.font = 'bold 20px Comic Sans MS';
                ctx.textAlign = 'center';
                ctx.strokeStyle = '#FFF';
                ctx.lineWidth = 2;
                const modeText = gameMode === 'rush' ? '‚ö° RUSH HOUR ‚ö°' : 'üåô NIGHT SHIFT üåô';
                ctx.strokeText(modeText, canvas.width/2, 50);
                ctx.fillText(modeText, canvas.width/2, 50);
                ctx.restore();
            }
        }

        function drawFactoryBackground() {
            ctx.save();
            
            ctx.fillStyle = gameMode === 'night' ? '#2C3E50' : '#708090';
            ctx.fillRect(0, canvas.height - 100, canvas.width, 100);
            
            ctx.strokeStyle = gameMode === 'night' ? '#34495E' : '#5F6A6A';
            ctx.lineWidth = 2;
            for (let i = 0; i < canvas.width; i += 100) {
                ctx.beginPath();
                ctx.moveTo(i, canvas.height - 100);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }
            
            const beltY = canvas.height - 30;
            ctx.fillStyle = gameMode === 'night' ? '#1B2631' : '#696969';
            ctx.fillRect(0, beltY, canvas.width, 20);
            
            ctx.fillStyle = gameMode === 'night' ? '#34495E' : '#808080';
            for (let i = 10; i < canvas.width; i += 40) {
                ctx.beginPath();
                ctx.arc(i, beltY + 10, 3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const equipmentColor = gameMode === 'night' ? '#34495E' : '#4682B4';
            
            ctx.fillStyle = equipmentColor;
            ctx.fillRect(canvas.width - 200, canvas.height - 250, 150, 150);
            ctx.strokeStyle = gameMode === 'night' ? '#5D6D7E' : '#1E3A8A';
            ctx.lineWidth = 3;
            ctx.strokeRect(canvas.width - 200, canvas.height - 250, 150, 150);
            
            ctx.fillStyle = equipmentColor;
            ctx.fillRect(canvas.width - 180, canvas.height - 300, 20, 50);
            ctx.fillRect(canvas.width - 120, canvas.height - 280, 15, 30);
            
            ctx.fillStyle = gameMode === 'night' ? '#17202A' : '#2F4F4F';
            ctx.fillRect(50, canvas.height - 180, 80, 60);
            ctx.strokeStyle = gameMode === 'night' ? '#5D6D7E' : '#1E3A8A';
            ctx.lineWidth = 2;
            ctx.strokeRect(50, canvas.height - 180, 80, 60);
            
            const lightColor = gameMode === 'night' ? '#3498DB' : '#00FF00';
            ctx.fillStyle = lightColor;
            ctx.beginPath();
            ctx.arc(70, canvas.height - 160, 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(110, canvas.height - 160, 4, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.strokeStyle = gameMode === 'night' ? '#F39C12' : '#FFD700';
            ctx.lineWidth = 5;
            for (let i = 0; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(i * 40, canvas.height - 100);
                ctx.lineTo(i * 40 + 20, canvas.height - 80);
                ctx.stroke();
            }
            
            const signX = canvas.width - 350;
            const signY = canvas.height - 400;
            
            ctx.fillStyle = gameMode === 'night' ? '#E8F8F5' : '#FFFFFF';
            ctx.fillRect(signX, signY, 200, 80);
            ctx.strokeStyle = gameMode === 'night' ? '#2E86AB' : '#000000';
            ctx.lineWidth = 3;
            ctx.strokeRect(signX, signY, 200, 80);
            
            ctx.fillStyle = gameMode === 'night' ? '#2E86AB' : '#8B0000';
            ctx.font = 'bold 36px Comic Sans MS';
            ctx.textAlign = 'center';
            ctx.fillText("Tech Shop", signX + 100, signY + 35);
            
            ctx.fillStyle = gameMode === 'night' ? '#34495E' : '#2F4F4F';
            ctx.font = 'bold 14px Comic Sans MS';
            ctx.fillText('MAINTENANCE DEPT.', signX + 100, signY + 60);
            
            ctx.strokeStyle = gameMode === 'night' ? '#85929E' : '#696969';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(signX + 20, signY - 20);
            ctx.lineTo(signX + 20, signY);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(signX + 180, signY - 20);
            ctx.lineTo(signX + 180, signY);
            ctx.stroke();
            
            ctx.fillStyle = equipmentColor;
            ctx.fillRect(200, canvas.height - 200, 100, 15);
            
            const toolColor = gameMode === 'night' ? '#85929E' : '#696969';
            ctx.strokeStyle = toolColor;
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(220, canvas.height - 185);
            ctx.lineTo(220, canvas.height - 150);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(250, canvas.height - 185);
            ctx.lineTo(250, canvas.height - 160);
            ctx.stroke();
            ctx.fillStyle = toolColor;
            ctx.fillRect(245, canvas.height - 170, 10, 8);
            
            if (gameMode !== 'night') {
                ctx.fillStyle = '#FFFACD';
                ctx.fillRect(canvas.width - 120, canvas.height - 500, 80, 100);
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.strokeRect(canvas.width - 120, canvas.height - 500, 80, 100);
                
                ctx.fillStyle = '#FF0000';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('SAFETY', canvas.width - 80, canvas.height - 470);
                ctx.fillText('FIRST!', canvas.width - 80, canvas.height - 450);
            }
            
            ctx.restore();
        }

        function updateUI() {
            document.getElementById('score').textContent = score;
            document.getElementById('missed').textContent = missedFood;
        }

        function restartGame() {
            resizeCanvas();
            gameState = 'playing';
            score = 0;
            missedFood = 0;
            timeLeft = 90;
            lastFoodType = null;
            consecutiveCount = 0;
            gameMode = 'normal';
            modeChangeScore = 0;
            
            fatMaintenanceMan.x = canvas.width / 2 - 60;
            fatMaintenanceMan.y = canvas.height - 140;
            fatMaintenanceMan.groundY = canvas.height - 140;
            fatMaintenanceMan.velocityY = 0;
            fatMaintenanceMan.jumping = false;
            fatMaintenanceMan.jumpPower = 100;
            fatMaintenanceMan.fastFalling = false;
            foodItems = [];
            particles = [];
            document.getElementById('gameOver').style.display = 'none';
            document.getElementById('highScoreEntry').style.display = 'none';
            document.getElementById('initialsInput').value = '';
            updateUI();
            updateJumpIndicator();
            document.getElementById('timeLeft').textContent = timeLeft;
            startGameTimer();
        }

        function startGame() {
            document.getElementById('gameInstructions').style.display = 'none';
            document.getElementById('gameInstructionsBottom').style.display = 'none';
            restartGame();
            gameLoop();
        }

        function gameLoop() {
            update();
            render();
            if (gameState === 'playing') {
                requestAnimationFrame(gameLoop);
            }
        }

        function createClouds() {
            for (let i = 0; i < 8; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                cloud.style.left = Math.random() * 90 + '%';
                cloud.style.top = Math.random() * 25 + '%';
                cloud.style.width = (Math.random() * 100 + 60) + 'px';
                cloud.style.height = (Math.random() * 50 + 30) + 'px';
                cloud.style.animationDelay = Math.random() * 8 + 's';
                cloud.style.zIndex = '1';
                document.getElementById('gameScreen').appendChild(cloud);
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Enter' && document.getElementById('highScoreEntry').style.display === 'block') {
                submitScore();
            }
        });

        window.addEventListener('resize', () => {
            if (gameState === 'playing') {
                resizeCanvas();
                fatMaintenanceMan.x = Math.min(fatMaintenanceMan.x, canvas.width - fatMaintenanceMan.width);
                fatMaintenanceMan.groundY = canvas.height - 140;
                if (!fatMaintenanceMan.jumping) {
                    fatMaintenanceMan.y = fatMaintenanceMan.groundY;
                }
            }
        });

        loadHighScores();
        createClouds();
        updateLeaderboard();

        // ============================================
        // MATRIX EFFECT
        // ============================================
        function triggerMatrix() {
            const screen = document.getElementById('matrixScreen');
            screen.style.display = 'block';
            startMatrix();

            setTimeout(() => {
                showMessage("TECH CART");
                setTimeout(() => showMessage("Inventory System"), 3000);
                setTimeout(() => showMessage("Made for Technicians"), 7000);
            }, 3000);

            setTimeout(() => {
                document.getElementById('matrixScreen').style.display = 'none';
                document.getElementById('finalText').style.opacity = 0;
            }, 14000);
        }

        function startMatrix() {
            const canvas = document.getElementById('matrixCanvas');
            const ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const letters = "ÔΩ±ÔΩ≤ÔΩ≥ÔΩ¥ÔΩµÔΩ∂ÔΩ∑ÔΩ∏ÔΩπÔΩ∫ÔΩªÔΩºÔΩΩÔΩæÔΩøÔæÄÔæÅÔæÇÔæÉÔæÑÔæÖÔæÜÔæáÔæàÔæâÔæäÔæãÔæåÔæçÔæéÔæèÔæêÔæëÔæíÔæìÔæîÔæïÔæñÔæóÔæòÔæôÔæöÔæõÔæúÔæù012345ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%&*+=-";
            const fontSize = 20;
            const columns = Math.floor(canvas.width / fontSize);
            const drops = Array(columns).fill(1);

            let animationId;
            function draw() {
                ctx.fillStyle = "rgba(0,0,0,0.07)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                gradient.addColorStop(0, "#00ffcc");
                gradient.addColorStop(0.5, "#00ff55");
                gradient.addColorStop(1, "#009933");

                ctx.fillStyle = gradient;
                ctx.font = fontSize + "px 'Courier New', monospace";

                for (let i = 0; i < drops.length; i++) {
                    const char = letters[Math.floor(Math.random() * letters.length)];

                    ctx.shadowColor = "#00ff99";
                    ctx.shadowBlur = 15;
                    ctx.fillText(char, i * fontSize, drops[i] * fontSize);
                    ctx.shadowBlur = 0;

                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.95) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }

                animationId = requestAnimationFrame(draw);
            }

            draw();
            setTimeout(() => cancelAnimationFrame(animationId), 14000);
        }

        function showMessage(msg) {
            const ft = document.getElementById('finalText');
            ft.innerText = msg;
            ft.style.opacity = 1;
            setTimeout(() => ft.style.opacity = 0, 2500);
        }

        // ============================================
        // INVENTORY SYSTEM DATA
        // ============================================
        const shiftData = {
            '1st': {
                name: '1st Shift Cart - Station A',
                laptop: 'Laptop A',
                computer: 'MAINT-LAPTOP-01',
                cables: [
                    'Keyence IV500 Interface',
                    'Omron RS232 HMI Cable',
                    'Omron CQM1 Interface',
                    'Omron CS1W Interface',
                    'Keyence Melsec FX & A Interface',
                    'USB MR-J3',
                    'EZ Touch RS232 HMI Cable',
                    'USB-RS232 Changeover',
                    'Standard RS232 Cable',
                    'USB Type B Printer Cable (Square Connector)',
                    'Straight Ethernet Cable',
                    'Omron C-Series Interface',
                    'Lenovo 20 VOLT, 3.25 AMP USB-C Charger',
                    'CF, SD, MS, Micro SD to USB Cable',
                    'Laptop A'
                ],
                specs: {
                    manufacturer: 'LENOVO',
                    model: '21K90034US',
                    processor: 'AMD Ryzen 5 PRO 7545U w/ Radeon 740M Graphics',
                    ram: '30.67 GB',
                    os: 'Microsoft Windows 11 Enterprise',
                    totalSpace: '951.65 GB',
                    freeSpace: '783.63 GB',
                    percentFree: '82.34%',
                    ip: '(Network Configured)',
                    subnet: '/24',
                    gateway: '(Gateway Configured)'
                },
                software: {
                    'Automation & Industrial': [
                        'AutoID Network Navigator (v7.0.2)',
                        'CX-One_V4 (v4.60.0005)',
                        'GX Works2 (v1.620W)',
                        'GX Works3 (v1.101F)',
                        'GT Designer3 (GOT1000) (v1.300N)',
                        'GT Designer3 (GOT2000) (v1.305T)',
                        'MELSOFT iQ Works Suite',
                        'Sysmac Studio (v1.47.0000)',
                        'EBPro (v6.10.01.359)',
                        'EZTouch Editor 2.0',
                        'RT ToolBox3 (v2.02.0200)'
                    ],
                    'KEYENCE Software': [
                        'KV STUDIO Ver.11G (v11.0.6.0)',
                        'KV STUDIO Ver.12G (v12.1.0.1)',
                        'IV-Navigator (v5.60.11.0)',
                        'IV2-Navigator (v1.50.21.0)',
                        'IV3-Navigator (v1.30.21)',
                        'Safety Device Configurator (v3.3.2.0)',
                        'SR Design Tool',
                        'SR Management Tool'
                    ],
                    'Camera & Vision': [
                        'pylon 5 Camera Software Suite',
                        'Sentech SDK (v1.1.102.110)',
                        'Basler pylon GEV Driver',
                        'GigE Performance Driver'
                    ],
                    'Remote Access': [
                        'Citrix Workspace 2508',
                        'deviceTRUST ICA Client Extension'
                    ],
                    'Security': [
                        'CrowdStrike Sensor Platform',
                        'Trend Micro Apex One Security Agent'
                    ]
                }
            },
            '2nd': {
                name: '2nd Shift Cart - Station B',
                laptop: 'Laptop B',
                computer: 'MAINT-LAPTOP-02',
                cables: [
                    'CF, SD, MS, Micro SD to USB Cable',
                    'Lenovo 20 VOLT, 3.25 AMP USB-C Charger',
                    'Laptop B',
                    'Micro USB',
                    'USB Type B Printer Cable',
                    'Omron CQM1 Interface',
                    'Omron CS1W Interface',
                    'USB-RS232 Changeover',
                    'Standard RS232 Cable'
                ],
                specs: {
                    manufacturer: 'LENOVO',
                    model: '21K90034US',
                    processor: 'AMD Ryzen 5 PRO 7545U w/ Radeon 740M Graphics',
                    ram: '16.0 GB',
                    os: 'Microsoft Windows 11 Enterprise',
                    totalSpace: '951.65 GB',
                    freeSpace: '710.23 GB',
                    percentFree: '74.62%',
                    ip: '(Network Configured)',
                    subnet: '/24',
                    gateway: '(Gateway Configured)'
                },
                software: {
                    'Automation & Industrial': [
                        'AutoID Network Navigator (v7.0.2)',
                        'CX-One_V4 (v4.60.0005)',
                        'GX Works2 (v1.620W)',
                        'EBPro (v6.10.01.359)',
                        'EZTouch Editor 2.0'
                    ],
                    'Camera & Vision': [
                        'pylon 5 Camera Software Suite'
                    ],
                    'Remote Access': [
                        'Citrix Workspace 2508'
                    ],
                    'Security': [
                        'CrowdStrike Sensor Platform',
                        'Trend Micro Apex One Security Agent'
                    ]
                }
            },
            '3rd': {
                name: '3rd Shift Cart - Station C',
                laptop: 'Laptop C',
                computer: 'MAINT-LAPTOP-03',
                cables: [
                    'Standard Ethernet Cable',
                    'CF, SD, MS, Micro SD to USB Cable',
                    'Lenovo 20 VOLT, 3.25 AMP USB-C Charger',
                    'Laptop C',
                    'Micro USB',
                    'USB Type B Printer Cable',
                    'Omron CQM1 Interface',
                    'USB-RS232 Changeover',
                    'Standard RS232 Cable'
                ],
                specs: {
                    manufacturer: 'LENOVO',
                    model: '21K90034US',
                    processor: 'AMD Ryzen 5 PRO 7545U w/ Radeon 740M Graphics',
                    ram: '16.0 GB',
                    os: 'Microsoft Windows 11 Enterprise',
                    totalSpace: '951.65 GB',
                    freeSpace: '650.85 GB',
                    percentFree: '68.39%',
                    ip: '(Network Configured)',
                    subnet: '/24',
                    gateway: '(Gateway Configured)'
                },
                software: {
                    'Automation & Industrial': [
                        'AutoID Network Navigator (v7.0.2)',
                        'CX-One_V4 (v4.60.0005)',
                        'GX Works2 (v1.620W)',
                        'GX Works3 (v1.101F)',
                        'GT Designer3 (GOT1000) (v1.300N)',
                        'EBPro (v6.10.01.359)',
                        'EZTouch Editor 2.0',
                        'RT ToolBox3 (v2.02.0200)'
                    ],
                    'Camera & Vision': [
                        'pylon 5 Camera Software Suite',
                        'Basler pylon GEV Driver'
                    ],
                    'Remote Access': [
                        'Citrix Workspace 2508'
                    ],
                    'Security': [
                        'CrowdStrike Sensor Platform',
                        'Trend Micro Apex One Security Agent'
                    ]
                }
            }
        };

        let currentShift = '1st';
        let currentTab = 'cables';

        function selectShift(shift) {
            currentShift = shift;
            
            document.querySelectorAll('.shift-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.shift-btn').classList.add('active');
            
            updateContent();
            updateStats();
        }

        function selectTab(tab) {
            currentTab = tab;
            
            document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            updateContent();
        }

        function updateStats() {
            const data = shiftData[currentShift];
            const statsBar = document.getElementById('stats-bar');
            
            const totalSoftware = Object.values(data.software).reduce((total, arr) => total + arr.length, 0);
            
            statsBar.innerHTML = `
                <div class="stat-card">
                    <div class="stat-title">Total Cables</div>
                    <div class="stat-value">${data.cables.length}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Software Packages</div>
                    <div class="stat-value">${totalSoftware}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">Free Storage</div>
                    <div class="stat-value">${data.specs.percentFree}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-title">RAM Available</div>
                    <div class="stat-value">${data.specs.ram}</div>
                </div>
            `;
        }

        function updateContent() {
            const data = shiftData[currentShift];
            const contentArea = document.getElementById('content-area');
            
            switch(currentTab) {
                case 'cables':
                    contentArea.innerHTML = `
                        <div class="content-grid">
                            ${data.cables.map((cable, index) => `
                                <div class="item-card">
                                    <div class="item-title">${cable}</div>
                                    <div class="item-details">Slot ${index + 1} ‚Ä¢ Cart Position: ${data.name} ‚Ä¢ Status: Available</div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    break;
                case 'laptop':
                    contentArea.innerHTML = `
                        <div class="spec-grid">
                            <div class="spec-card">
                                <div class="spec-title">Hardware Specifications</div>
                                <div class="spec-item">
                                    <span class="spec-label">Manufacturer</span>
                                    <span class="spec-value">${data.specs.manufacturer}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Model</span>
                                    <span class="spec-value">${data.specs.model}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Processor</span>
                                    <span class="spec-value">${data.specs.processor}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">RAM</span>
                                    <span class="spec-value">${data.specs.ram}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Operating System</span>
                                    <span class="spec-value">${data.specs.os}</span>
                                </div>
                            </div>
                            <div class="spec-card">
                                <div class="spec-title">Storage & Network</div>
                                <div class="spec-item">
                                    <span class="spec-label">Total Storage</span>
                                    <span class="spec-value">${data.specs.totalSpace}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Free Space</span>
                                    <span class="spec-value">${data.specs.freeSpace}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">% Free</span>
                                    <span class="spec-value">${data.specs.percentFree}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">IP Address</span>
                                    <span class="spec-value">${data.specs.ip}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Gateway</span>
                                    <span class="spec-value">${data.specs.gateway}</span>
                                </div>
                                <div class="spec-item">
                                    <span class="spec-label">Computer Name</span>
                                    <span class="spec-value">${data.computer}</span>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                case 'software':
                    contentArea.innerHTML = `
                        <div class="software-grid">
                            ${Object.entries(data.software).map(([category, items]) => `
                                <div class="software-category">
                                    <div class="category-title">
                                        <span>üíª</span>
                                        ${category} (${items.length})
                                    </div>
                                    <div class="software-list">
                                        ${items.map(item => `
                                            <div class="software-item">${item}</div>
                                        `).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    break;
            }
        }

        function searchContent() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const data = shiftData[currentShift];
            
            if (!searchTerm) {
                updateContent();
                return;
            }
            
            const contentArea = document.getElementById('content-area');
            let results = [];
            
            data.cables.forEach((cable, index) => {
                if (cable.toLowerCase().includes(searchTerm)) {
                    results.push({
                        type: 'Cable',
                        title: cable,
                        details: `Slot ${index + 1} ‚Ä¢ Cart Position: ${data.name} ‚Ä¢ Status: Available`
                    });
                }
            });
            
            Object.entries(data.software).forEach(([category, items]) => {
                items.forEach(item => {
                    if (item.toLowerCase().includes(searchTerm)) {
                        results.push({
                            type: 'Software',
                            title: item,
                            details: `Category: ${category} ‚Ä¢ Installed on ${data.laptop}`
                        });
                    }
                });
            });
            
            Object.entries(data.specs).forEach(([key, value]) => {
                if (value.toLowerCase().includes(searchTerm)) {
                    results.push({
                        type: 'Specification',
                        title: key.charAt(0).toUpperCase() + key.slice(1),
                        details: value
                    });
                }
            });
            
            if (results.length === 0) {
                contentArea.innerHTML = `
                    <div style="text-align: center; color: #b8c6db; font-size: 1.2rem; padding: 40px;">
                        No results found for "${searchTerm}"
                    </div>
                `;
            } else {
                contentArea.innerHTML = `
                    <div style="margin-bottom: 20px; color: #4fd3a7; font-weight: bold;">
                        Found ${results.length} result(s) for "${searchTerm}":
                    </div>
                    <div class="content-grid">
                        ${results.map(result => `
                            <div class="item-card">
                                <div class="item-title">[${result.type}] ${result.title}</div>
                                <div class="item-details">${result.details}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
